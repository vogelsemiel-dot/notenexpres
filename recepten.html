<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>De Notenexpres ‚Äì Recepten</title>

  <style>
    :root{
      /* Merk */
      --brand:#E53D23;
      --brand-deep:#C4321C;

      /* Dark-first basis */
      --bg-1:#0f0f10;
      --bg-2:#171314;
      --card:#1a1b1e;
      --card-2:#141518;
      --text:#F2F2F3;
      --muted:#B9BBC1;
      --muted-2:#8E9097;

      /* Styling tokens */
      --radius:24px;
      --btn-radius:18px;
      --shadow: 0 22px 70px rgba(0,0,0,.52);

      /* Dikte van de "notenzak"-zijbanen */
      --side: clamp(22px, 5vw, 56px);

      --chip: rgba(255,255,255,.06);
      --chip-border: rgba(255,255,255,.10);
      --line: rgba(229,61,35,.16);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      min-height:100vh;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 50% 18%, rgba(229,61,35,.18), rgba(229,61,35,0) 60%),
        linear-gradient(180deg, var(--bg-2), var(--bg-1) 72%);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      color-scheme: dark;
    }

    /* Oranje strepen links/rechts (zelfde vibe als je index) */
    body::before, body::after{
      content:"";
      position:fixed;
      top:0; bottom:0;
      width:var(--side);
      z-index:0;
      background:
        linear-gradient(180deg,
          rgba(255,255,255,.10) 0%,
          rgba(255,255,255,0) 10%,
          rgba(0,0,0,.10) 100%),
        linear-gradient(180deg, var(--brand), var(--brand-deep));
      box-shadow:
        inset 0 0 0 1px rgba(0,0,0,.22),
        inset 0 12px 42px rgba(0,0,0,.22);
    }
    body::before{ left:0; }
    body::after{ right:0; }

    .wrap{
      position:relative;
      z-index:1;
      max-width: 1080px;
      margin: 0 auto;
      padding: 26px 16px 54px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 18px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 0;
    }
    .brand img{
      width:46px;
      height:46px;
      border-radius: 14px;
      object-fit: cover;
      box-shadow: 0 10px 26px rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.06);
    }
    .brand h1{
      font-size: 18px;
      margin:0;
      line-height: 1.1;
      letter-spacing: .2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .brand p{
      margin:4px 0 0;
      font-size: 12.5px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }

    .nav{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 14px;
      border-radius: var(--btn-radius);
      color: var(--text);
      text-decoration:none;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 10px 34px rgba(0,0,0,.22);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      font-weight: 600;
      font-size: 13.5px;
      letter-spacing: .1px;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(229,61,35,.45);
      background: rgba(229,61,35,.10);
    }
    .btn.primary{
      background: linear-gradient(180deg, rgba(229,61,35,.95), rgba(196,50,28,.95));
      border-color: rgba(0,0,0,.18);
    }

    .hero{
      margin-top: 12px;
      padding: 18px;
      border-radius: var(--radius);
      background:
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)),
        radial-gradient(820px 320px at 10% 10%, rgba(229,61,35,.22), transparent 60%);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
    }
    .hero h2{
      margin:0 0 8px;
      font-size: 20px;
      letter-spacing:.2px;
    }
    .hero .sub{
      margin:0;
      color: var(--muted);
      font-size: 13.5px;
      line-height: 1.35;
    }

    .controls{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1.3fr .7fr;
      gap: 12px;
      align-items: start;
    }
    @media (max-width: 860px){
      .controls{ grid-template-columns: 1fr; }
      .nav{ justify-content:flex-start; }
      .topbar{ flex-direction: column; align-items: stretch; }
    }

    .search{
      display:flex;
      gap:10px;
      align-items:center;
      padding: 12px 14px;
      border-radius: 18px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
    }
    .search input{
      width:100%;
      border:0;
      outline:0;
      background: transparent;
      color: var(--text);
      font-size: 14px;
    }
    .search input::placeholder{ color: rgba(185,187,193,.72); }

    .meta{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      padding: 12px 14px;
      border-radius: 18px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      color: var(--muted);
      font-size: 13px;
    }
    .meta strong{ color: var(--text); font-weight: 800; }

    .chips{
      margin-top: 12px;
      display:flex;
      gap:10px;
      flex-wrap: wrap;
      align-items:center;
    }
    .chip{
      user-select:none;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      background: var(--chip);
      border:1px solid var(--chip-border);
      color: var(--text);
      font-weight: 700;
      font-size: 13px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .chip:hover{ transform: translateY(-1px); border-color: rgba(229,61,35,.38); }
    .chip.active{
      background: rgba(229,61,35,.18);
      border-color: rgba(229,61,35,.55);
    }
    .chip.small{
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 700;
      opacity: .95;
    }

    .grid{
      margin-top: 16px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    @media (max-width: 980px){ .grid{ grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 620px){ .grid{ grid-template-columns: 1fr;} }

    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 16px 55px rgba(0,0,0,.34);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 220px;
    }
    .card .head{
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,.06);
      background: radial-gradient(520px 190px at 15% 0%, rgba(229,61,35,.18), transparent 60%);
    }
    .title{
      margin:0;
      font-size: 16px;
      letter-spacing: .15px;
      line-height: 1.2;
    }
    .desc{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }
    .badges{
      margin-top: 10px;
      display:flex;
      flex-wrap: wrap;
      gap:8px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      font-size: 12px;
      font-weight: 800;
      letter-spacing:.1px;
    }
    .badge.allergen{
      background: rgba(229,61,35,.14);
      border-color: rgba(229,61,35,.34);
    }

    .card .body{
      padding: 12px 14px 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      flex:1;
    }

    details{
      border-radius: 16px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      padding: 10px 12px;
    }
    summary{
      cursor:pointer;
      font-weight: 800;
      color: var(--text);
      font-size: 13px;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    summary::-webkit-details-marker{ display:none; }
    summary .hint{
      color: var(--muted-2);
      font-weight: 700;
      font-size: 12px;
    }

    ul, ol{ margin:10px 0 0 18px; padding:0; color: var(--muted); }
    li{ margin: 4px 0; }

    .footnote{
      margin-top: 18px;
      color: var(--muted-2);
      font-size: 12px;
      line-height: 1.45;
      opacity: .95;
    }
    .hr{
      margin-top: 12px;
      height:1px;
      background: linear-gradient(90deg, transparent, var(--line), transparent);
    }

    .empty{
      display:none;
      margin-top: 16px;
      padding: 18px;
      border-radius: var(--radius);
      background: rgba(255,255,255,.04);
      border:1px dashed rgba(255,255,255,.16);
      color: var(--muted);
    }
    .empty strong{ color: var(--text); }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      background: rgba(0,0,0,.28);
      border:1px solid rgba(255,255,255,.10);
      padding: 2px 6px;
      border-radius: 8px;
      color: var(--text);
      font-weight: 800;
    }
  </style>
</head>

<body>
  <main class="wrap">
    <header class="topbar">
      <div class="brand">
        <img src="logo.jpg" alt="Notenexpres logo" onerror="this.style.display='none'">
        <div style="min-width:0">
          <h1>De Notenexpres ‚Äì Recepten</h1>
          <p>Zoek, filter en ontdek idee√´n met noten, zaden en gedroogd fruit.</p>
        </div>
      </div>

      <nav class="nav" aria-label="Navigatie">
        <a class="btn" href="index.html">Home</a>
        <a class="btn primary" href="allergenen.html">Allergenen</a>
      </nav>
    </header>

    <section class="hero">
      <h2>Ontdek nieuwe idee√´n en recepten</h2>
      <p class="sub">
        Tip: zoek op product (bijv. <em>pinda</em>, <em>cashew</em>, <em>cranberry</em>) of op gerecht (bijv. <em>granola</em>, <em>koek</em>).
        Druk op <span class="kbd">Esc</span> om je zoekveld snel leeg te maken.
      </p>

      <div class="controls">
        <div class="search" role="search" aria-label="Zoeken in recepten">
          <span aria-hidden="true">üîé</span>
          <input id="q" type="search" placeholder="Zoeken‚Ä¶ (titel, ingredi√´nten, tags, allergenen)" autocomplete="off" />
        </div>
        <div class="meta">
          <div><strong id="count">0</strong> recepten zichtbaar</div>
          <button id="reset" class="btn" type="button" style="padding:10px 12px;">Reset filters</button>
        </div>
      </div>

      <div class="chips" id="chips" aria-label="Categorie√´n">
        <!-- Chips worden via JS gevuld -->
      </div>

    </section>

    <section class="grid" id="grid" aria-label="Receptenoverzicht">
      <!-- Cards worden via JS gevuld -->
    </section>

    <section class="empty" id="empty">
      <strong>Geen resultaten.</strong><br>
      Probeer een andere zoekterm of zet (een deel van) je filters uit.
    </section>
  </main>

  <script>
    // ---------- Data ----------
    // Allergenen tags (indicatief): pinda, noten, sesam, gluten, melk, ei, soja
    const RECIPES = [
      // Ontbijt
      {
        id:"r01", cat:"Ontbijt",
        title:"Havermout met appel, kaneel & amandel",
        desc:"Warme kom comfort: appelblokjes, kaneel en knapperige amandel.",
        time:"10 min",
        tags:["haver","amandel","kaneel","appel"],
        allergens:["noten","gluten"],
        ing:[
          "50 g havermout",
          "200 ml melk of plantaardige drank",
          "1/2 appel (blokjes)",
          "1 tl kaneel",
          "1 el amandelschaafsel of stukjes amandel",
          "Optioneel: honing of rozijnen"
        ],
        steps:[
          "Kook havermout met melk/drank 4‚Äì6 min.",
          "Roer appel en kaneel erdoor.",
          "Top af met amandel en eventueel honing/rozijnen."
        ]
      },
      {
        id:"r02", cat:"Ontbijt",
        title:"Yoghurt bowl met cranberry, walnoot & honing",
        desc:"Snel en fris, met zoet-zuur en crunch.",
        time:"5 min",
        tags:["yoghurt","cranberry","walnoot","honing"],
        allergens:["noten","melk"],
        ing:["250 g yoghurt","2 el cranberry's","1 el walnoten","1 tl honing","Optioneel: granola"],
        steps:["Schep yoghurt in een kom.","Top met cranberry, walnoot en honing.","Eventueel: voeg granola toe."]
      },
      {
        id:"r03", cat:"Ontbijt",
        title:"Chia pudding met kokos & mango",
        desc:"Mealprep-ontbijt: romig, tropisch en vullend.",
        time:"10 min + opstijven",
        tags:["chia","kokos","mango"],
        allergens:[],
        ing:["3 el chiazaad","250 ml kokosdrink of melk","1 tl vanille","Mango (stukjes)","Kokosrasp"],
        steps:["Roer chia, drink, vanille.","Laat 3 uur (liefst nacht) opstijven.","Serveer met mango en kokosrasp."]
      },
      {
        id:"r04", cat:"Ontbijt",
        title:"Bananenpannenkoekjes met pindatopping",
        desc:"2‚Äì3 ingredi√´nten basis, extra lekker met pinda.",
        time:"15 min",
        tags:["banaan","pinda","pannenkoek"],
        allergens:["pinda","ei"],
        ing:["1 banaan","2 eieren","1 el pindakaas of pindapasta","Handje pinda (grof)","Bakvet"],
        steps:["Prak banaan, meng met eieren.","Bak kleine pannenkoekjes.","Top met pindakaas en pinda."]
      },

      // Snacks
      {
        id:"r05", cat:"Snacks",
        title:"Notenmix-roast (zoet-pittig)",
        desc:"Oven-roasted mix met honing, chili en zout.",
        time:"18 min",
        tags:["notenmix","honing","chili"],
        allergens:["noten"],
        ing:["300 g notenmix","1 el honing","1 el olie","1/2 tl chilivlokken","Zout"],
        steps:["Meng alles.","Rooster 160¬∞C 12‚Äì15 min, schep halverwege om.","Laat afkoelen (wordt knapperig)."]
      },
      {
        id:"r06", cat:"Snacks",
        title:"Cranberry-energieballen met amandel",
        desc:"No-bake snack voor onderweg.",
        time:"15 min",
        tags:["cranberry","amandel","dadels"],
        allergens:["noten"],
        ing:["150 g dadels (ontpit)","60 g amandel","2 el havermout","2 el cranberry","Snuf zout"],
        steps:["Maal alles tot plakkerig deeg.","Rol balletjes.","Koel 30 min."]
      },
      {
        id:"r07", cat:"Snacks",
        title:"Sesam-crackers (snackplaat)",
        desc:"Krokante seed-crackers uit de oven.",
        time:"30 min",
        tags:["sesam","zaden","crackers"],
        allergens:["sesam"],
        ing:["3 el sesamzaad","3 el zonnebloempitten","2 el lijnzaad","160 ml water","Zout/kruiden"],
        steps:["Meng alles, laat 10 min geleren.","Smeer dun op bakpapier.","Bak 160¬∞C 25‚Äì30 min."]
      },
      {
        id:"r08", cat:"Snacks",
        title:"Geroosterde pompoenpitten met paprikapoeder",
        desc:"Super simpel, lekker bij soep/salade.",
        time:"12 min",
        tags:["pompoenpitten","paprika","zaden"],
        allergens:[],
        ing:["200 g pompoenpitten","1 tl paprikapoeder","1 el olie","Zout"],
        steps:["Meng en rooster 160¬∞C 8‚Äì10 min.","Laat afkoelen."]
      },

      // Bakken
      {
        id:"r09", cat:"Bakken",
        title:"Cranberry-witte chocolade cookies",
        desc:"Knapperig randje, chewy binnenkant.",
        time:"30 min",
        tags:["cranberry","witte chocolade","koek"],
        allergens:["gluten","melk","ei"],
        ing:["200 g bloem","120 g boter","120 g suiker","1 ei","1 tl bakpoeder","100 g cranberry","100 g witte choc stukjes"],
        steps:["Klop boter+suiker, voeg ei toe.","Meng droge ingredi√´nten erdoor.","Schep cranberry+choc erdoor.","Bak 180¬∞C 10‚Äì12 min."]
      },
      {
        id:"r10", cat:"Bakken",
        title:"Bananenbrood met walnoot & kaneel",
        desc:"Ideaal om rijpe bananen op te maken.",
        time:"60 min",
        tags:["banaan","walnoot","cake"],
        allergens:["noten","gluten","ei","melk"],
        ing:["3 rijpe bananen","2 eieren","250 g bloem","1 tl bakpoeder","80 g suiker","80 g boter/olie","Handje walnoten","Kaneel"],
        steps:["Meng nat, voeg droge toe.","Spatel walnoten erdoor.","Bak 175¬∞C 45‚Äì55 min."]
      },
      {
        id:"r11", cat:"Bakken",
        title:"Amandel-speculaas kruimelreep",
        desc:"Kruimelbodem met speculaas en amandel.",
        time:"45 min",
        tags:["amandel","speculaas","reep"],
        allergens:["noten","gluten","melk"],
        ing:["250 g bloem","150 g boter","120 g suiker","2 tl speculaaskruiden","1 ei (optioneel)","Amandelschaafsel"],
        steps:["Maak kruimeldeeg.","Druk 2/3 in bakvorm, strooi amandel.","Rest kruimels erop.","Bak 180¬∞C 25‚Äì30 min."]
      },
      {
        id:"r12", cat:"Bakken",
        title:"Pinda-choco brownie bites",
        desc:"Brownies maar dan als kleine hapjes, met pinda-crunch.",
        time:"35 min",
        tags:["pinda","chocolade","brownie"],
        allergens:["pinda","ei","melk","gluten"],
        ing:["200 g pure choc","120 g boter","2 eieren","140 g suiker","80 g bloem","Handje pinda (grof)"],
        steps:["Smelt choc+boter.","Klop eieren+suiker, meng alles.","Spatel bloem+pinda erin.","Bak 175¬∞C 18‚Äì22 min (in mini-vorm)."]
      },

      // Salades
      {
        id:"r13", cat:"Salades",
        title:"Couscoussalade met rozijn, amandel & munt",
        desc:"Fris, zoet en nootachtig. Lekker bij lunch.",
        time:"20 min",
        tags:["couscous","rozijnen","amandel","munt"],
        allergens:["noten","gluten"],
        ing:["200 g couscous","Rozijnen","Amandelschaafsel","Komkommer","Tomaat","Munt/peterselie","Citroen","Olijfolie","Zout"],
        steps:["Bereid couscous.","Meng met groente, kruiden, rozijnen.","Top met amandel en citroen-olie dressing."]
      },
      {
        id:"r14", cat:"Salades",
        title:"Groene salade met walnoot, peer & mosterddressing",
        desc:"Klassieker: zoet, bitter, romig.",
        time:"15 min",
        tags:["walnoot","peer","dressing"],
        allergens:["noten"],
        ing:["Gemengde sla","1 peer","Walnoten","Mosterd","Olijfolie","Azijn","Zout/peper"],
        steps:["Snijd peer.","Klop dressing.","Meng sla+peer+walnoot, dressing erover."]
      },
      {
        id:"r15", cat:"Salades",
        title:"Bietjes‚Äìgeitenkaas salade met pistache",
        desc:"Kleurrijk en luxe met pistache-crunch.",
        time:"15 min",
        tags:["pistache","biet","geitenkaas"],
        allergens:["noten","melk"],
        ing:["Gekookte biet","Geitenkaas","Rucola","Pistachenoten","Honing","Balsamico"],
        steps:["Snijd biet.","Verdeel rucola, biet, geitenkaas.","Top met pistache en honing-balsamico."]
      },

      // Hartig
      {
        id:"r16", cat:"Hartig",
        title:"Kip (of tofu) in sat√©saus met pinda",
        desc:"Snelle sat√© voor doordeweeks.",
        time:"25 min",
        tags:["pinda","sate","kip","tofu"],
        allergens:["pinda","soja"],
        ing:["Kipblokjes of tofu","1 ui","2 el pindakaas","Sojasaus","Knoflook","Limoen","Water","Sambal"],
        steps:["Bak ui+knoflook, voeg kip/tofu toe.","Roer pindakaas, sojasaus, water, sambal.","Laat indikken, serveer met rijst."]
      },
      {
        id:"r17", cat:"Hartig",
        title:"Kruidige couscous met cashew & groenten",
        desc:"Vegetarisch, vullend en crunchy.",
        time:"25 min",
        tags:["cashew","couscous","groenten"],
        allergens:["noten","gluten"],
        ing:["Couscous","Courgette/paprika/ui","Ras el hanout","Cashewnoten","Citroen","Olijfolie"],
        steps:["Rooster groente met kruiden.","Maak couscous.","Schep alles om en top met cashew."]
      },
      {
        id:"r18", cat:"Hartig",
        title:"Zalm uit de oven met sesamkorst",
        desc:"Sesam + citroen = topcombi.",
        time:"20 min",
        tags:["zalm","sesam","oven"],
        allergens:["sesam"],
        ing:["Zalmfilet","Sesamzaad","Citroen","Olie","Zout/peper"],
        steps:["Bestrooi zalm met sesam, zout/peper.","Bak 200¬∞C 12‚Äì15 min.","Serveer met citroen."]
      },
      {
        id:"r19", cat:"Hartig",
        title:"Romige pompoensoep met geroosterde pitten",
        desc:"Maak ‚Äòm af met pompoenpitten voor crunch.",
        time:"35 min",
        tags:["pompoenpitten","soep","pompoen"],
        allergens:["melk"],
        ing:["Pompoenblokjes","Ui","Knoflook","Bouillon","Room (optioneel)","Pompoenpitten","Paprikapoeder"],
        steps:["Fruit ui+knoflook.","Kook pompoen in bouillon gaar.","Pureer, voeg room toe.","Top met geroosterde pitten."]
      },
      {
        id:"r20", cat:"Hartig",
        title:"Pasta pesto met walnoot (no-basil noodoplossing)",
        desc:"Walnoot-pesto met knoflook & kaas.",
        time:"20 min",
        tags:["pasta","walnoot","pesto"],
        allergens:["noten","melk","gluten"],
        ing:["Pasta","Walnoten","Knoflook","Parmezaan","Olijfolie","Citroen","Zout/peper"],
        steps:["Kook pasta.","Blender walnoot+knoflook+kaas+olie+citroen.","Meng met pasta."]
      },

      // Zoet
      {
        id:"r21", cat:"Zoet",
        title:"Dadels gevuld met amandel & choc drizzle",
        desc:"Cadeau-waardig, maar ook gewoon snack.",
        time:"10 min",
        tags:["dadels","amandel","chocolade"],
        allergens:["noten","melk"],
        ing:["Dadels","Amandel (heel)","Pure of melkchoc (gesmolten)","Snuf zout"],
        steps:["Snijd dadels open, pit eruit.","Stop amandel erin.","Drizzle choc erover, snuf zout."]
      },
      {
        id:"r22", cat:"Zoet",
        title:"Vijgen-noten plankje (borrel/na)",
        desc:"Snel dessert met vijgen, noten en honing.",
        time:"8 min",
        tags:["vijgen","notenmix","honing"],
        allergens:["noten"],
        ing:["Gedroogde vijgen","Notenmix","Honing","(Optioneel) kaas"],
        steps:["Leg alles op een plankje.","Druppel honing.","Klaar."]
      },
      {
        id:"r23", cat:"Zoet",
        title:"Cranberry compote (voor yoghurt/taart)",
        desc:"Zoet-zuur sausje in 10 minuten.",
        time:"10 min",
        tags:["cranberry","compote"],
        allergens:[],
        ing:["200 g cranberry","2‚Äì3 el suiker","Scheut water","Citroenrasp"],
        steps:["Kook cranberry met suiker+water 6‚Äì8 min.","Laat indikken.","Koel af."]
      },

      // Dranken
      {
        id:"r24", cat:"Dranken",
        title:"Huisgemaakte amandelmilk (basic)",
        desc:"Week, blend, zeef. Klaar.",
        time:"10 min + weken",
        tags:["amandel","drank"],
        allergens:["noten"],
        ing:["200 g amandel","1 liter water","Snuf zout","Optioneel: dadel/vanille"],
        steps:["Week amandel 6‚Äì8 uur.","Blend met water.","Zeef door doek, breng op smaak."]
      },
      {
        id:"r25", cat:"Dranken",
        title:"Banaan‚Äìpinda smoothie",
        desc:"Romig, vullend, snel.",
        time:"5 min",
        tags:["banaan","pinda","smoothie"],
        allergens:["pinda","melk"],
        ing:["1 banaan","250 ml melk/plantaardig","1‚Äì2 el pindakaas","IJsblokjes"],
        steps:["Alles blenden.","Proeven, eventueel meer pindakaas."]
      },

      // Cadeau / selfmade
      {
        id:"r26", cat:"Cadeau",
        title:"Granola mix in pot (cadeau)",
        desc:"Leuk om te geven: noten, zaden en fruit.",
        time:"30 min",
        tags:["granola","noten","zaden","rozijnen","cranberry"],
        allergens:["noten","gluten"],
        ing:["Havermout","Notenmix","Zonnebloempitten","Pompoenpitten","Honing/ahornsiroop","Rozijnen/cranberry","Kaneel"],
        steps:["Meng alles behalve het fruit.","Bak 160¬∞C 20‚Äì25 min, schep om.","Roer fruit erna erdoor, in pot doen."]
      },
      {
        id:"r27", cat:"Cadeau",
        title:"Choco-noten clusters (traybake)",
        desc:"Makkelijk: smelten, mengen, scheppen.",
        time:"20 min",
        tags:["chocolade","notenmix"],
        allergens:["noten","melk"],
        ing:["300 g choc (puur/melk)","Notenmix","Snuf zout"],
        steps:["Smelt choc.","Meng noten erdoor.","Schep hoopjes op bakpapier, laat opstijven."]
      },

      // Extra recepten om aan 30‚Äì50 te komen (totaal 36)
      {
        id:"r28", cat:"Snacks",
        title:"Kokos‚Äìchia jam (snelle fruitspread)",
        desc:"Met diepvriesfruit en chia als binder.",
        time:"12 min",
        tags:["chia","kokos","fruit"],
        allergens:[],
        ing:["250 g bessen (diepvries)","2 el chiazaad","1‚Äì2 el suiker/honing","Kokosrasp (optioneel)"],
        steps:["Verwarm fruit tot het stuk is.","Roer chia + zoetstof erdoor.","Laat 10 min indikken."]
      },
      {
        id:"r29", cat:"Bakken",
        title:"Pistache-cake (snelle roer)",
        desc:"Groen, zacht en feestelijk.",
        time:"55 min",
        tags:["pistache","cake"],
        allergens:["noten","gluten","ei","melk"],
        ing:["200 g bloem","150 g boter","150 g suiker","3 eieren","1 tl bakpoeder","100 g pistache (gemalen)"],
        steps:["Klop boter+suiker, voeg eieren toe.","Meng droge ingredi√´nten.","Bak 175¬∞C 40‚Äì45 min."]
      },
      {
        id:"r30", cat:"Hartig",
        title:"Geroosterde bloemkool met tahin-sesamsaus",
        desc:"Ovenschotel vibe, super smaakvol.",
        time:"35 min",
        tags:["sesam","tahin","bloemkool"],
        allergens:["sesam"],
        ing:["Bloemkoolroosjes","Olie","Zout/komijn","2 el tahin","Citroen","Water","Knoflook"],
        steps:["Rooster bloemkool 200¬∞C 22‚Äì25 min.","Klop tahin+citroen+water+knoflook tot saus.","Serveer erover."]
      },
      {
        id:"r31", cat:"Ontbijt",
        title:"Overnight oats met rozijn & kaneel",
        desc:"Zet ‚Äòs avonds klaar, ‚Äòs ochtends pakken.",
        time:"5 min + nacht",
        tags:["haver","rozijnen","kaneel"],
        allergens:["gluten","melk"],
        ing:["50 g havermout","200 ml melk/yoghurt","1 el rozijnen","Kaneel","Optioneel: appel"],
        steps:["Alles mengen in pot.","Nacht in koelkast.","Roeren en eten."]
      },
      {
        id:"r32", cat:"Zoet",
        title:"Cranberry‚Äìamandel ‚Äòbark‚Äô (chocplaat)",
        desc:"Platte chocplaat met toppings, breek in stukken.",
        time:"15 min + opstijven",
        tags:["cranberry","amandel","chocolade"],
        allergens:["noten","melk"],
        ing:["200‚Äì300 g choc","Cranberry","Amandelschaafsel","Snuf zout"],
        steps:["Smelt choc en smeer uit.","Top met cranberry+amandel.","Laat hard worden, breek."]
      },
      {
        id:"r33", cat:"Salades",
        title:"Wortelsalade met rozijn & zonnebloempitten",
        desc:"Fris en knapperig, beetje zoet.",
        time:"15 min",
        tags:["wortel","rozijnen","zonnebloempitten"],
        allergens:[],
        ing:["2 wortels (geraspt)","Rozijnen","Zonnebloempitten","Citroensap","Olijfolie","Zout"],
        steps:["Meng alles.","Laat 5 min staan.","Proef en serveer."]
      },
      {
        id:"r34", cat:"Snacks",
        title:"Cashew-limoen dip (snelle ‚Äòroom‚Äô)",
        desc:"Blenderdip voor wraps of groente.",
        time:"10 min",
        tags:["cashew","dip","limoen"],
        allergens:["noten"],
        ing:["150 g cashew (geweekt of heet water 10 min)","Limoensap","Knoflook","Zout","Water"],
        steps:["Blend cashew met limoensap, knoflook, zout.","Voeg water toe tot dikte klopt.","Serveer."]
      },
      {
        id:"r35", cat:"Hartig",
        title:"Rijst bowl met edamame, sesam & notencrunch",
        desc:"Snel, fresh en variabel.",
        time:"20 min",
        tags:["sesam","rijst","soja","notenmix"],
        allergens:["sesam","soja","noten"],
        ing:["Rijst","Edamame","Komkommer","Wortel","Sesamzaad","Notenmix","Sojasaus"],
        steps:["Kook rijst.","Bouw bowl met groente/edamame.","Top met sesam+notencrunch, sojasaus."]
      },
      {
        id:"r36", cat:"Cadeau",
        title:"Zakje ‚Äòwintermix‚Äô (DIY blend)",
        desc:"Maak je eigen mix: noten + fruit + specerij.",
        time:"8 min",
        tags:["notenmix","rozijnen","cranberry","kaneel"],
        allergens:["noten"],
        ing:["Notenmix","Rozijnen","Cranberry","Kaneel","Snuf zout"],
        steps:["Meng alles in kom.","Schep in cadeauzakjes/pot.","Label erbij, klaar."]
      }
    ];

    const CATEGORIES = [
      "Alles",
      "Ontbijt",
      "Snacks",
      "Bakken",
      "Salades",
      "Hartig",
      "Zoet",
      "Dranken",
      "Cadeau"
    ];

    // ---------- Render ----------
    const grid = document.getElementById("grid");
    const empty = document.getElementById("empty");
    const q = document.getElementById("q");
    const count = document.getElementById("count");
    const chipsEl = document.getElementById("chips");
    const resetBtn = document.getElementById("reset");

    let activeCats = new Set(["Alles"]);

    function esc(s){
      return (s ?? "").replace(/[&<>"']/g, c => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[c]));
    }

    function renderChips(){
      chipsEl.innerHTML = "";
      for(const c of CATEGORIES){
        const b = document.createElement("button");
        b.type = "button";
        b.className = "chip" + (activeCats.has(c) ? " active" : "");
        b.textContent = c;
        b.addEventListener("click", () => {
          if(c === "Alles"){
            activeCats = new Set(["Alles"]);
          }else{
            activeCats.delete("Alles");
            if(activeCats.has(c)) activeCats.delete(c);
            else activeCats.add(c);
            if(activeCats.size === 0) activeCats = new Set(["Alles"]);
          }
          renderChips();
          applyFilters();
        });
        chipsEl.appendChild(b);
      }
    }

    function recipeCard(r){
      const allergenBadges = (r.allergens || []).map(a =>
        `<span class="badge allergen">‚ö†Ô∏è ${esc(a)}</span>`
      ).join("");

      const tagBadges = (r.tags || []).slice(0,4).map(t =>
        `<span class="badge">#${esc(t)}</span>`
      ).join("");

      return `
        <article class="card"
          data-cat="${esc(r.cat)}"
          data-search="${esc([r.title, r.desc, r.cat, (r.tags||[]).join(" "), (r.allergens||[]).join(" "), (r.ing||[]).join(" ")].join(" ").toLowerCase())}">
          <div class="head">
            <h3 class="title">${esc(r.title)}</h3>
            <p class="desc">${esc(r.desc)}</p>
            <div class="badges">
              <span class="badge">‚è± ${esc(r.time || "‚Äî")}</span>
              <span class="badge">üìÅ ${esc(r.cat)}</span>
              ${allergenBadges}
            </div>
          </div>
          <div class="body">
            <div class="badges">${tagBadges}</div>

            <details>
              <summary>Ingredi√´nten <span class="hint">klik</span></summary>
              <ul>${(r.ing||[]).map(x=>`<li>${esc(x)}</li>`).join("")}</ul>
            </details>

            <details>
              <summary>Bereiding <span class="hint">klik</span></summary>
              <ol>${(r.steps||[]).map(x=>`<li>${esc(x)}</li>`).join("")}</ol>
            </details>
          </div>
        </article>
      `;
    }

    function renderGrid(){
      grid.innerHTML = RECIPES.map(recipeCard).join("");
    }

    // ---------- Filtering ----------
    function applyFilters(){
      const term = (q.value || "").trim().toLowerCase();
      const cards = Array.from(grid.querySelectorAll(".card"));

      let visible = 0;

      for(const card of cards){
        const cat = card.getAttribute("data-cat");
        const hay = card.getAttribute("data-search") || "";

        const catOk = activeCats.has("Alles") || activeCats.has(cat);
        const termOk = term === "" || hay.includes(term);

        const ok = catOk && termOk;
        card.style.display = ok ? "" : "none";
        if(ok) visible++;
      }

      count.textContent = String(visible);
      empty.style.display = visible === 0 ? "block" : "none";
    }

    // ---------- Events ----------
    q.addEventListener("input", applyFilters);

    resetBtn.addEventListener("click", () => {
      q.value = "";
      activeCats = new Set(["Alles"]);
      renderChips();
      applyFilters();
      q.focus();
    });

    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){
        q.value = "";
        applyFilters();
      }
      if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "k"){
        e.preventDefault();
        q.focus();
      }
    });

    // ---------- Init ----------
    renderChips();
    renderGrid();
    applyFilters();
  </script>
</body>
</html>
